(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,a=c(7),s=c.n(a),r=c(4),l=c(15),i=c(6),o=c(13),d=c(14),j=c(3);!function(e){e.all="all",e.completed="completed",e.active="active"}(n||(n={}));var u={query:"",selection:n.all},b=function(){return{type:"FILTER/NO"}},h=function(){return{type:"FILTER/ACTIVE"}},O=function(){return{type:"FILTER/COMPLETED"}},f=function(e){return{type:"FILTER/QUERY",payload:e}},m=function(){return{type:"FILTER/CLEAR"}},x=function(){return{type:"loading/start"}},p=function(){return{type:"loading/finish"}},v=function(e){return{type:"TODO/SELECT",payload:e}},y=function(){return{type:"TODO/REMOVE"}},N=function(e){return{type:"TODOS/SET",payload:e}},E=Object(i.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"TODOS/SET"===t.type?t.payload:e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading/start":return!0;case"loading/finish":return!1;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER/ACTIVE":return Object(j.a)(Object(j.a)({},e),{},{selection:n.active});case"FILTER/COMPLETED":return Object(j.a)(Object(j.a)({},e),{},{selection:n.completed});case"FILTER/NO":return Object(j.a)(Object(j.a)({},e),{},{selection:n.all});case"FILTER/QUERY":return Object(j.a)(Object(j.a)({},e),{},{query:t.payload});case"FILTER/CLEAR":return Object(j.a)(Object(j.a)({},e),{},{query:""});default:return e}},selectedTodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO/SELECT":return t.payload;case"TODO/REMOVE":return null;default:return e}}}),g=r.c,T=Object(i.createStore)(E,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),L=c(5),I=c(0),C=(c(23),c(24),c(25),c(11)),R=c.n(C),k=c(1),w=function(e){var t=e.userId,c=Object(r.b)(),a=g((function(e){var t;return null===(t=e.selectedTodo)||void 0===t?void 0:t.id})),s=g((function(e){var t=e.filter;return e.todos.filter((function(e){var c=e.title.toLowerCase().includes(t.query.toLowerCase());switch(t.selection){case n.completed:return e.completed&&c;case n.active:return!e.completed&&c;default:return c}}))}));return Object(k.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:Object(k.jsx)("span",{className:"icon",children:Object(k.jsx)("i",{className:"fas fa-check"})})}),Object(k.jsx)("th",{children:"Title"}),Object(k.jsx)("th",{children:" "})]})}),Object(k.jsx)("tbody",{children:s.map((function(e){return Object(k.jsxs)("tr",{"data-cy":"todo",className:"",children:[Object(k.jsx)("td",{className:"is-vcentered",children:e.id}),Object(k.jsx)("td",{className:"is-vcentered",children:e.completed&&Object(k.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(k.jsx)("i",{className:"fas fa-check"})})}),Object(k.jsx)("td",{className:"is-vcentered is-expanded",children:Object(k.jsx)("p",{className:R()(e.completed?"has-text-success":"has-text-danger"),children:e.title})}),Object(k.jsx)("td",{className:"has-text-right is-vcentered",children:Object(k.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){c(v(e)),t(e.userId)},children:Object(k.jsx)("span",{className:"icon",children:Object(k.jsx)("i",{className:R()("far",{"fa-eye-slash":a===e.id,"fa-eye":!(a===e.id)})})})})})]},e.id)}))})]})},S=function(){var e=Object(r.b)(),t=g((function(e){return e.filter.query}));return Object(k.jsxs)("form",{className:"field has-addons",children:[Object(k.jsx)("p",{className:"control",children:Object(k.jsx)("span",{className:"select",children:Object(k.jsxs)("select",{"data-cy":"statusSelect",onChange:function(t){return function(t){switch(t){case n.active:e(h());break;case n.completed:e(O());break;default:e(b())}}(t.target.value)},children:[Object(k.jsx)("option",{value:n.all,children:"All"}),Object(k.jsx)("option",{value:n.active,children:"Active"}),Object(k.jsx)("option",{value:n.completed,children:"Completed"})]})})}),Object(k.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(k.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:t,onChange:function(t){e(f(t.target.value))}}),Object(k.jsx)("span",{className:"icon is-left",children:Object(k.jsx)("i",{className:"fas fa-magnifying-glass"})}),t&&Object(k.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:Object(k.jsx)("button",{"data-cy":"clearSearchButton",type:"button",className:"delete",onClick:function(){return e(m())}})})]})]})};function F(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=1e3,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){return e.json()}))}c(27);var D=function(){return Object(k.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(k.jsx)("div",{className:"Loader__content"})})},A=function(e){var t=e.userId,c=Object(I.useState)(),n=Object(L.a)(c,2),a=n[0],s=n[1],l=Object(r.b)(),i=g((function(e){return e.selectedTodo}));return Object(I.useEffect)((function(){(function(e){return F("/users/".concat(e))})(t).then((function(e){s(e)}))}),[]),i&&Object(k.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(k.jsx)("div",{className:"modal-background",onClick:function(){l(y())}}),a?Object(k.jsxs)("div",{className:"modal-card",children:[Object(k.jsxs)("header",{className:"modal-card-head",children:[Object(k.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(i.id)}),Object(k.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:function(){l(y())}})]}),Object(k.jsxs)("div",{className:"modal-card-body",children:[Object(k.jsx)("p",{className:"block","data-cy":"modal-title",children:i.title}),Object(k.jsxs)("p",{className:"block","data-cy":"modal-user",children:[i.completed?Object(k.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(k.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(k.jsx)("a",{href:"mailto:".concat(a.email),children:null===a||void 0===a?void 0:a.name})]})]})]}):Object(k.jsx)(D,{})]})},q=function(){var e=Object(r.b)(),t=g((function(e){return e})),c=t.loading,n=t.selectedTodo,a=Object(I.useState)(0),s=Object(L.a)(a,2),l=s[0],i=s[1];return Object(I.useEffect)((function(){e(x()),F("/todos").then((function(t){return e(N(t))})).finally((function(){return e(p())}))}),[]),Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"section",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"box",children:[Object(k.jsx)("h1",{className:"title",children:"Todos:"}),Object(k.jsx)("div",{className:"block",children:Object(k.jsx)(S,{})}),Object(k.jsx)("div",{className:"block",children:c?Object(k.jsx)(D,{}):Object(k.jsx)(w,{userId:function(e){return i(e)}})})]})})}),n&&Object(k.jsx)(A,{userId:l})]})})},M=function(){return Object(k.jsx)(r.a,{store:T,children:Object(k.jsx)(l.a,{children:Object(k.jsx)(q,{})})})};s.a.render(Object(k.jsx)(M,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.33be2ae1.chunk.js.map